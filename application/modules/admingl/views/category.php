<script type="text/javascript">        var _current_category_selected_id = '0';    _current_category_selected_id = '<?=$selected_category_id?>';        $(document).ready(function() {                                                                               $('#addroot').click(function(){            _current_category_selected_id = 0;            $('#addsub').trigger('click');        });                $('#addsub').click(function(){            $.ajax({                type: 'GET',                url: '<?php echo base_url() ?>admingl/ajax_category/',                data: {                    task:'load_form_add',                    category_id : _current_category_selected_id                },                dataType: "json",                success: function(data)                {                    if (data.response == 'success') {                         $('div#category_content').html(data.content);                                                                 }else if(data.response == 'error') {                         $('#modalbody').html(data.content);                         $('#myModal').modal();                    }else {                    }                }            });        });                                $('#delete_category').click(function(){                    if(confirm('are you sure delete this category ?')){                            $.ajax({                   type: 'POST',                   url: '<?php echo base_url() ?>admingl/ajax_category/',                   data: {                       task:'delete',                       category_id : _current_category_selected_id                   },                   dataType: "json",                   success: function(data)                   {                       if (data.response == 'success') {                                                                           alert('Category: '+ data.category_name + ' have been deleted.')                            window.location.href = '<?=base_url().'admingl/category?category_id='?>'+ data.parent_id;                       }else if(data.response == 'error') {                              $('#modalbody').html(data.content);                              $('#myModal').modal();                       }else {                       }                   }               });            }        });                $('#edit_category').click(function(){            $.ajax({                type: 'GET',                url: '<?php echo base_url() ?>admingl/ajax_category/',                data: {                    task:'load_form_edit',                    category_id : _current_category_selected_id                },                dataType: "json",                success: function(data)                {                    if (data.response == 'success') {                         $('div#category_content').html(data.content);//                                                                  }else if(data.response == 'error') {                        $('#modalbody').html(data.content);                        $('#myModal').modal();                    }else {                    }                }            });        });                           $('#category_tree').fileTree( {                folderEvent:'click',                root:'0',                script:'<?php echo base_url() ?>category/export_tree_category/'},                callback        );                                               });//end document.readyfunction callback(_category_id){                        $.ajax({                    type: 'GET',                    url: '<?php echo base_url() ?>admingl/ajax_category/',                    data: {                        category_id : _category_id                    },                    dataType: "json",                    success: function(data){                        if (data.response == 'success') {                             $('div#category_content').html(data.content);                        }else if(data.response == 'error') {                        }else {                        }                    }        });        _current_category_selected_id = _category_id;         }</script><style>    #category_tree .click {        text-decoration: underline;    }    </style><div class="col-lg-12">    <div class="col-lg-3">        <div class="panel panel-default">            <div class="panel-heading">Chuyên mục sản phẩm</div>            <div class="panel-body">                <div class="btn-group">                                        <a id="addroot" href="#" type="button" class="btn btn-default">AddRoot</a>                    <a id="addsub" href="#" type="button" class="btn btn-default">AddSub</a>                    <a id="edit_category" href="#" type="button" class="btn btn-default">Edit</a>                                        <a id="delete_category" href="#" type="button" class="btn btn-default">Delete</a>                </div>                                  <div id="category_tree" class="">                    <?=$category_tree?>                </div>            </div>        </div>    </div>    <div id ="category_content" class="col-lg-9">        </div>    <div class="clearfix"></div></div><!-- Modal --><div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">  <div class="modal-dialog">    <div class="modal-content">      <div class="modal-header">        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>        <h4 class="modal-title" id="myModalLabel">Notice</h4>      </div>      <div id="modalbody" class="modal-body">        ...      </div>      <div class="modal-footer">        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>        <!--<button type="button" class="btn btn-primary">Save changes</button>-->      </div>    </div><!-- /.modal-content -->  </div><!-- /.modal-dialog --></div><!-- /.modal -->